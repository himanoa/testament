+++
date = "2019-04-04 18:25:42 +0900"
title = "Repositoryパターンの破綻"
author = "himanoa"
+++

風呂でRepositoryパターンについて考えてたけどあれを上手く適用するには集約をちゃんと考えてやる必要が確実にある。

想定していた集約が破綻するとRepositoryパターンだけで取得と永続化用のコードを書くのは依存性解決とか集約を跨ぐトランザクションとかが出てきてしんどくなる。

そこで便利なのがCQRSになるんだけど、トランザクションの関係でRepositoryのコードをコピペする必要が出てきたりするとコード変更による影響箇所が正しく判別しにくくなるので、そことのトレードオフですね…

ってポエムを書こうとしたらTwitterだと文字数オーバーになった
